{% extends "base.html" %}

{% block head %}
{% endblock %}

{% block title %}Photo{% endblock %}

{% block header %}
{% endblock %}

{% block content %}
  <div class="row">
    <div class="small-12 large-10 columns photo">
    {% if photo.orientation == 'landscape' %}
      <img class="landscape" src="{{ url_for('crop_view', filename=photo.crops["display1280"]) }}">
    {% else %}
      <img class="portrait" src="{{ url_for('crop_view', filename=photo.crops["home600"]) }}">
    {% endif %}
    </div>
    <div class="small-12 large-2 columns photo-sidebar">
      {% if photo.exif["ImageDescription"] %}
      <div class="row">
        <div class="small-12 columns photo-description">
          <p>{{ photo.exif["ImageDescription"] }}</p>
        </div>
      </div>
      {% endif %}
      <div class="row">
        <div class="small-12 columns photo-info">
          <p>Camera: {{ photo.exif["Model"] }}</p>
          <p>Lens: {{ photo.exif["LensModel"] }}</p>
          <p>Focal Length: {{ photo_focal }}mm</p>
          <p>Shutter: {{ photo_shutter }}</p>
          <p>Aperture: f/{{ photo_aperture }}</p>
        </div>
      </div>
      <div class="row photo-nav">
        <div class="small-12 columns">
          {% if paged.has_prev %}
            {% set photo_prev=paged.prev().items[0] %}
            <a class="photo-prev-nav-link left" href="{{ url_for('photo_page_view', gallery_id=gallery.id, photo_id=photo_prev.id) }}">
              <p class="photo-nav-text">Previous</p>
              <div class="photo-nav-cover abs-left"></div>
              <img src="{{ url_for('crop_view', filename=photo_prev.crops["thumb200"])  }}">
            </a>
          {% endif %}
          {% if paged.has_next %}
            {% set photo_next=paged.next().items[0] %}
            <a class="photo-next-nav-link right" href="{{ url_for('photo_page_view', gallery_id=gallery.id, photo_id=photo_next.id) }}">
              <p class="photo-nav-text">Next</p>
              <div class="photo-nav-cover abs-right"></div>
              <img src="{{ url_for('crop_view', filename=photo_next.crops["thumb200"])  }}">
            </a>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
{% endblock %}