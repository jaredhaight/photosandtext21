{% extends "base.html" %}

{% block head %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/justifiedGallery-31.min.css') }}">
{% endblock %}

{% block title %}{{ gallery.name }}{% endblock %}

{% block header %}
  <div class="row">
    <div class="gallery-header">
        <div class="small-2 columns left nav-home">
            <a href="/"><i class="icon-home"></i></a>
        </div>
        <div class="small-8 columns text-center">
          <h2>{{ gallery.name }}</h2>
        </div>
        <div class="small-2 columns">

        </div>
    </div>
  </div>
{% endblock %}

{% block content %}
  {% if gallery.desc %}
  <div class="row">
    <div class="small-12 medium-10 large-6 text-center medium-centered columns">
      <div class="gallery-desc">
        <p>{{ gallery.desc }}</p>
      </div>
    </div>
  </div>
  {% endif %}
  <div class="row">
    <div id="gallery">
      {% for photo in photos %}
        <a id="{{ photo.id }}"href="{{ url_for('photo_page_view', gallery_key=gallery.key, photo_key=photo.key) }}">
           <img src="{{ url_for('crop_view', filename=photo.get_crop("display")) }}">
        </a>
      {% endfor %}
    </div>
  </div>
{% endblock %}

{% block javascript %}
<script src="{{ url_for('static', filename="js/jquery.justifiedGallery-31.min.js") }}"></script>
<script>
$(window).load(function () {
  $(document ).ready(function() {
   $("#gallery").justifiedGallery({
      rowHeight: 300,
      spinner: true,
      justifyLastRow: false,
      captions: false
    });
  });
});
</script>
{% endblock %}